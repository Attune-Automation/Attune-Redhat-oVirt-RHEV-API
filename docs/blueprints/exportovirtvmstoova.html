
<!doctype html>
<html lang="en">




<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="title"
          content="Instructions: How to Export oVirt VMs to OVA - Attune Automation">
    <meta name="description"
          content="">
    <meta name="robots"
          content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large">

    <meta property="og:locale" content="en_AU" />
    <meta property="og:type" content="article" />
    <meta property="og:title"
          content="Instructions: HowTo Export oVirt VMs to OVA - Attune Automation" />
    <meta property="og:description" content="" />
    <meta property="og:site_name" content="Attune Automation" />
    <meta property="article:section" content="IT Instruction" />

    <meta name="twitter:title"
          content="Instructions: How to Export oVirt VMs to OVA - Attune Automation" />
    <meta name="twitter:description" content="" />

    <link rel="icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-32x32.png" sizes="32x32">
    <link rel="icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon" href="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-180x180.png">
    <meta name="msapplication-TileImage" content="https://www.servertribe.com/wp-content/uploads/2020/10/cropped-server_tribe_favicon-270x270.png">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="../styles/style.css">

    <title>How to Export oVirt VMs to OVA - Attune Automation</title>
</head>


<body>

<!-- Project breadcrumbs -->

<!-- Project breadcrumbs -->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb m-0">
        <li class="breadcrumb-item" aria-current="page">
            <a
                href="https://www.servertribe.com/"
                target="_blank">
                ServerTribe
            </a>
        </li>
        <li class="breadcrumb-item" aria-current="page">
            <a
                href="https://github.com/attune-Automation/"
                target="_blank">
                Attune Automation Projects
            </a>
        </li>
        <li class="breadcrumb-item">
            <a href="../index.html">
            Redhat oVirt/RHEV API
            </a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            <strong>Export oVirt VMs to OVA</strong>
        </li>
    </ol>
</nav>

<!-- Blueprint Header -->

<div class="container px-0">
    <!-- Blueprint name and description -->
    <div class="row pt-5">
        <div class="col px-0">
            <h1 class="text-left">
                How to Export oVirt VMs to OVA
            </h1>
        </div>
    </div>

<!-- Blueprint Description -->
    <div class="row pt-4">
        <div class="col-6 px-0">
            <h6 class="text-left">
                This documentation is generated by
                <a href="https://www.servertribe.com/"
                    class="badge badge-primary"
                    target="_blank">
                    Attune
                </a>
            </h6>
        </div>
        <div class="col-6 align-self-end text-right px-0">
            <h6 class="text-right">
                <a href="https://www.youtube.com/@servertribe"
                    class="badge badge-secondary"
                    target="_blank">
                    YouTube
                </a>
                <a href="https://github.com/Attune-Automation"
                    class="badge badge-secondary"
                    target="_blank">
                    GitHub
                </a>
                <a href="https://discord.com/invite/3YpJsagqUn"
                    class="badge badge-secondary"
                    target="_blank">
                    Discord
                </a>
                <a href="https://www.linkedin.com/company/servertribe/"
                    class="badge badge-secondary"
                    target="_blank">
                    LinkedIn
                </a>
                <a href="http://doc.servertribe.com/"
                    class="badge badge-secondary"
                    target="_blank">
                    Documentation
                </a>
            </h6>
        </div>
    </div>
    <hr>
</div>

<div class="documentation">
    <div class="container px-0">
        <div class="row">

<!-- Blueprint ToC -->


            <div class="col-lg-2 px-0 pr-5">
                <div class="container px-0 pt-3 sticky-top">
                    <h6 class="pb-2">
                        <strong>Contents</strong>
                    </h6>
                    <h6 class="text-muted">
                        <a href="#top">
                            <strong>Export oVirt VMs to OVA</strong>
                        </a>
                    </h6>


    
        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtocreatetemporarydirectory">
                            <strong>Step 1 -</strong> EOVTO Create Temporary Directory
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtosearchandwritevmstofile">
                            <strong>Step 2 -</strong> EOVTO Search and Write VMs to File
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtoexportvmstoovausingexporttopathonhost">
                            <strong>Step 3 -</strong> EOVTO Export VMs to OVA - using export_to_path_on_host
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtocopyvmlistsfiletosourceovirthost">
                            <strong>Step 4 -</strong> EOVTO Copy VM Lists File to Source oVirt Host
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovto7zipovafiles">
                            <strong>Step 5 -</strong> EOVTO 7zip OVA Files
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtorsync7zippedovafiles">
                            <strong>Step 6 -</strong> EOVTO Rsync 7zipped OVA Files
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtoremove7zippedovafilesfromsourceovirthost">
                            <strong>Step 7 -</strong> EOVTO Remove 7zipped OVA Files From Source oVirt Host
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtoremovevmlistsfileonsourceovirt">
                            <strong>Step 8 -</strong> EOVTO Remove VM Lists File on Source oVirt
                        </a>
                    </h6>

        

                    <h6 class="text-muted pt-2">
                        <a href="#eovtoremovevmlistsfileonattune">
                            <strong>Step 9 -</strong> EOVTO Remove VM Lists File on Attune
                        </a>
                    </h6>


                </div>
            </div>

<!-- Blueprint Contents -->
            <div class="col-lg-8 pt-3">
                <div class="container">


        <div class="blueprint-description jumbotron">
            <h2 class="display-3 text-center">
                Automate This
            </h2>
            <p class="lead text-center">
                Use the <strong>Attune GUI</strong> for your Scripts
            </p>
            <p class="lead">
                <ol>
                    <a href="https://www.servertribe.com/download-attune-registration/"
                        target="_blank">
                        <span class="badge badge-primary">1</span>
                        Download Attune
                        <i class="fa-solid fa-download fa-beat-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://github.com/attune-Automation/"
                        target="_blank">
                        <span class="badge badge-primary">2</span>
                         Copy the Attune Project URL
                         <i class="fa-brands fa-github fa-fade"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://servertribe-attune.readthedocs.io/en/latest/howto/design_workspace/clone_project.html"
                        target="_blank">
                        <span class="badge badge-primary">3</span>
                        Clone the Project in Attune
                         <i class="fa-solid fa-book fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://www.youtube.com/watch?v=GCWDI29rDV0"
                        target="_blank">
                        <span class="badge badge-primary">4</span>
                        Plan your Job(s)
                        <i class="fa-brands fa-youtube fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
                <ol>
                    <a href="https://www.youtube.com/watch?v=b7DhFcURkZg"
                        target="_blank">
                        <span class="badge badge-primary">5</span>
                        Run your Job(s)
                        <i class="fa-brands fa-youtube fa-fade" style="color: #0197ff;"></i>
                    </a>
                </ol>
            </p>
            <p class="lead text-center">
                You've automated: <strong>Export oVirt VMs to OVA</strong>
            </p>
            <hr class="my-4 text-center">
            <div class="col px-0">
                <p class="text-center">
                    Get the most out of automation with our get started
                    videos, product demonstrations, and more.
                </p>
                <p class="lead text-center">
                    <a class="btn btn-primary btn-lg"
                       href="https://www.servertribe.com/learn/"
                       target="_blank"
                       role="button">
                        Learn Attune Automation
                    </a>
                </p>
            </div>
        </div>

        <div class="row">
            <p>The following steps will guide you through the manual process.</p>
        </div>

<!-- Blueprint Steps -->


        



                    <div class="row pt-5">
                        <h4 id="eovtocreatetemporarydirectory">
                            <a href="#eovtocreatetemporarydirectory">
                                <strong>Step 1 -</strong> EOVTO Create Temporary Directory
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            
                        </p>
                    </div>










                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {linuxattuneuser}@{attuneosbuildserver}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
mkdir -p ~/tmp
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtosearchandwritevmstofile">
                            <a href="#eovtosearchandwritevmstofile">
                                <strong>Step 2 -</strong> EOVTO Search and Write VMs to File
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            <p>The format of a line in the Comma Separted Values file is:</p>
<p>name_of_virtual_machine,id_of_virtual_machine</p>
                        </p>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
export PATH=~/ks_ovirt_py_venv/bin:$PATH

python3 &lt;&lt;&quot;EOF&quot;
import logging
import os
import time
import sys

import ovirtsdk4 as sdk
import ovirtsdk4.types as types


logging.basicConfig(stream=sys.stdout, level=logging.INFO)
logger = logging.getLogger(&quot;Attune&quot;)

# This example will connect to the server, search for a VM by a name pettern and
# write the list to file.

# Create the connection to the server:
connection = sdk.Connection(
    url=&#x27;https://{ovirtEngineServer.fqn}/ovirt-engine/api&#x27;,
    username=&#x27;{ovirtEngineApiUser.user}&#x27;,
    password=&#x27;{ovirtEngineApiUser.password}&#x27;,
    insecure=True,
    debug=True,
    log=logger,
)
logger.info(&quot;Connection Successful&quot;)

# Find the service that manages VMs:
logger.info(&quot;Getting system_service&quot;)
system_service = connection.system_service()

logger.info(&quot;Getting vms_service&quot;)
vms_service = system_service.vms_service()

# Find the VM:
logger.info(&quot;Searching for VM &#x27;name={ovirtVmSearchString}&#x27;&quot;)

os.chdir(&quot;tmp&quot;)
cwd = os.getcwd()
print(&quot;cwd = %s&quot; % cwd)

vm_names_file_name = &quot;{ovirtUniqueFileName}&quot;
vm_names_file = open(vm_names_file_name, &quot;w&quot;)

try:
    # Find the VMs:
    vm_list = vms_service.list(search=&#x27;name={ovirtVmSearchString}&#x27;)
    
    number_vms = len(vm_list)
    logger.info(&quot;number_vms = &quot; + str(number_vms))
    
    i = 0
    for vm in vm_list:
        name = vm.name
        

        print(&quot;%s. %s, id=%s&quot; % (i, name, vm.id))
        vm_names_file.write(&quot;%s,%s\n&quot; % (name, vm.id))
            
        i += 1
        
    logger.info(&quot;Written to %s/%s.&quot; % (cwd, vm_names_file_name))
        
    vm_names_file.close()

except IndexError:
    logger.info(&quot;No VMs found&quot;)
    exit(1)

# Close the connection to the server:
connection.close()

EOF
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtoexportvmstoovausingexporttopathonhost">
                            <a href="#eovtoexportvmstoovausingexporttopathonhost">
                                <strong>Step 3 -</strong> EOVTO Export VMs to OVA - using export_to_path_on_host
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            <p>https://www.mail-archive.com/users@ovirt.org/msg59302.html</p>
                        </p>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
export PATH=~/ks_ovirt_py_venv/bin:$PATH

python3 &lt;&lt;&quot;EOF&quot;
import logging
import os
import time
import sys

import ovirtsdk4 as sdk
import ovirtsdk4.types as types

def waitForJobsToFinish(connection, logger):
  jobs_service = connection.system_service().jobs_service()
  jobs = jobs_service.list()

  for job in jobs:
    logger.info(&quot;%s, %s&quot; % (job.id, job.description))
    while job.status == types.JobStatus.STARTED:
      time.sleep(10)
      job = jobs_service.job_service(job.id).get()
      logger.info(&#x27;job-status: %s&#x27; % (job.status))
      
logging.basicConfig(stream=sys.stdout, level=logging.INFO)
logger = logging.getLogger(&quot;Attune&quot;)

os.chdir(&quot;tmp&quot;)
cwd = os.getcwd()

vm_names_file_name = &quot;{ovirtUniqueFileName}&quot;
logger.info(&quot;vm_names_file_name=[%s]&quot; % vm_names_file_name)

# Create the connection to the server:
connection = sdk.Connection(
    url=&#x27;https://{ovirtEngineServer.fqn}/ovirt-engine/api&#x27;,
    username=&#x27;{ovirtEngineApiUser.user}&#x27;,
    password=&#x27;{ovirtEngineApiUser.password}&#x27;,
    insecure=True,
    debug=True,
    log=logger,
)
logger.info(&quot;Connection Successful&quot;)

logger.info(&quot;Getting hosts_service&quot;)
hosts_service = connection.system_service().hosts_service()

ovirtHostServer=&quot;site1ovh1.site1.synerty.com&quot;
logger.info(&quot;ovirtHostServer=%s&quot;, ovirtHostServer)

# Find the host:
host = hosts_service.list(search=&#x27;name=&#x27; + ovirtHostServer)[0]
logger.info(&quot;host = %s, %s&quot; % (host.id, host.name))

# Find the service that manages the host:
host_service = hosts_service.host_service(host.id)

# Find the service that manages VMs:
logger.info(&quot;Getting system_service&quot;)
system_service = connection.system_service()

logger.info(&quot;Getting vms_service&quot;)
vms_service = system_service.vms_service()

vm_names_file_name = &quot;{ovirtUniqueFileName}&quot;
vm_names_file = open(vm_names_file_name, &quot;r&quot;)

i = 0;    
for line in vm_names_file:
    logger.info(&quot;%s. %s&quot; %(i, line))
    
    tokens = line.split(&quot;,&quot;)
    
    # we need strip() to remove spaces and newlines around the tokens
    name = tokens[0].strip()
    id = tokens[1].strip()
    
    logger.info(&quot;name = [%s], id = [%s]&quot; % (name, id))

    logger.info(&quot;Getting VM Service for VM ID=%s&quot; % id)
    vm_service = vms_service.vm_service(id)
    
    # Check that there are no running jobs.
    waitForJobsToFinish(connection, logger)
    
    vm_service.export_to_path_on_host(
        host=types.Host(id=host.id),
        directory=&#x27;{ovaExportPath}&#x27;,
        exclusive=True,
        filename=(&#x27;%s.ova&#x27; % (name)),
        wait=True,
    )
    
    # Wait for the export to finish.
    waitForJobsToFinish(connection, logger)
    
EOF
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtocopyvmlistsfiletosourceovirthost">
                            <a href="#eovtocopyvmlistsfiletosourceovirthost">
                                <strong>Step 4 -</strong> EOVTO Copy VM Lists File to Source oVirt Host
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            
                        </p>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
USER_AT_HOST=&quot;{ovirtHostSshUser.user}@{ovirtHostServer.ip}&quot;

FROM=&quot;${HOME}/tmp/{ovirtUniqueFileName}&quot;
ls -lh &quot;${FROM}&quot;
TO=&quot;/tmp&quot;

scp -p \
    -o StrictHostKeyChecking=no \
    -o UserKnownHostsFile=/dev/null \
    -o  PreferredAuthentications=password \
    &quot;${FROM}&quot; \
    ${USER_AT_HOST}:${TO}
                </code>
            </pre>
        </div>
    </div>

    <div class="row">
        <p>
            This script may require you to answer the following prompts:
        </p>
    </div>
    <div class="row">
        <table>
            <thead>
                <tr>
                    <th>
                        Prompt
                    </th>
                    <th class="prompts">
                        Answer
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        password:
                    </td>
                    <td class="prompts">
                        <code class="language-sql">
{ovirtHostSshUser.password}
                        </code>
                    </td>
                </tr>
                <tr>
                    <td>
                        Are you sure you want to continue connecting (yes/no)?
                    </td>
                    <td class="prompts">
                        <code class="language-sql">
yes
                        </code>
                    </td>
                </tr>
                <tr>
                    <td>
                        Are you sure you want to continue connecting (yes/no/[fingerprint])?
                    </td>
                    <td class="prompts">
                        <code class="language-sql">
yes
                        </code>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>




        



                    <div class="row pt-5">
                        <h4 id="eovto7zipovafiles">
                            <a href="#eovto7zipovafiles">
                                <strong>Step 5 -</strong> EOVTO 7zip OVA Files
                            </a>
                        </h4>
                    </div>











                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {ovirthostsshuser}@{ovirthostserver}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
OVA_DIR=&quot;/vm_local/ova/&quot;
cd &quot;${OVA_DIR}&quot;
echo &quot;Original files in ${OVA_DIR}&quot;
ls -lh

FILE=&quot;/tmp/{ovirtUniqueFileName}&quot;

i=1

while IFS= read -r line
do
    # A line can look like:
    # ko1vs1.ko1.synerty.com,c6357921-8000-4867-8db4-53045ac44528
    
    # To tokenizse the line set teh internal field separator to ,
    IFS=&#x27;,&#x27;
    WORD_NUMBER=0
    
    for word in $line; 
    do 
    
        if [ &quot;${WORD_NUMBER}&quot; -eq 0 ]
        then
            # The 0th token is the VM Name
            
            # Buld up the 7zipped OVA file name
            OVA_NAME=&quot;${word}.ova&quot;
            if [[ -f &quot;${OVA_NAME}&quot; ]]
            then
                echo &quot;Converting$(ls -lh ${OVA_NAME})&quot;
                WAS=$(ls -lh &quot;${OVA_NAME}&quot;)
                
                7z a -mmt10 &quot;${OVA_NAME}.7z&quot; &quot;${OVA_NAME}&quot;
                
                rm -vf &quot;${OVA_NAME}&quot;
                
                echo &quot;Reduced size from ${WAS} to $(ls -lh ${OVA_NAME}.7z)&quot;
            fi
            
        fi
    
        let &quot;WORD_NUMBER=WORD_NUMBER+1&quot;
    done
    
  let &quot;i++&quot;
done &lt; &quot;${FILE}&quot;

echo &quot;Current files in ${OVA_DIR}&quot;
ls -lh
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtorsync7zippedovafiles">
                            <a href="#eovtorsync7zippedovafiles">
                                <strong>Step 6 -</strong> EOVTO Rsync 7zipped OVA Files
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            
                        </p>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
OVA_DIR=&quot;/vm_local/ova/&quot;
cd &quot;${OVA_DIR}&quot;

rsync \
    --archive \
    --verbose \
    --progress \
    --partial \
    ./ \
    &quot;{ovirtHostSshUser.user}@{ovirtDestinationHost.ip}:${OVA_DIR}&quot;
                </code>
            </pre>
        </div>
    </div>

    <div class="row">
        <p>
            This script may require you to answer the following prompts:
        </p>
    </div>
    <div class="row">
        <table>
            <thead>
                <tr>
                    <th>
                        Prompt
                    </th>
                    <th class="prompts">
                        Answer
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        {ovirtHostSshUser.user}@{ovirtDestinationHost.ip}'s password: 
                    </td>
                    <td class="prompts">
                        <code class="language-sql">
{ovirtHostSshUser.password}
                        </code>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>




        



                    <div class="row pt-5">
                        <h4 id="eovtoremove7zippedovafilesfromsourceovirthost">
                            <a href="#eovtoremove7zippedovafilesfromsourceovirthost">
                                <strong>Step 7 -</strong> EOVTO Remove 7zipped OVA Files From Source oVirt Host
                            </a>
                        </h4>
                    </div>

                    <div class="blueprint-description row">
                        <p>
                            <p>Here is an example VMs list CSV file:</p>
<p>ko1vs1.ko1.synerty.com,c6357921-8000-4867-8db4-53045ac44528
ko1vs2.ko1.synerty.com,45a83063-7c17-49d0-8494-6b19b0a34d31
ko1vs3.ko1.synerty.com,4fec6742-ca48-4a7e-a3c5-3f13129118de</p>
                        </p>
                    </div>









    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
OVA_DIR=&quot;/vm_local/ova/&quot;

cd &quot;${OVA_DIR}&quot;
echo &quot;Original files in ${OVA_DIR}&quot;
ls -lh

FILE=&quot;/tmp/{ovirtUniqueFileName}&quot;

i=1

while IFS= read -r line
do
    # A line can look like:
    # ko1vs1.ko1.synerty.com,c6357921-8000-4867-8db4-53045ac44528
    
    # To tokenizse the line set teh internal field separator to ,
    IFS=&#x27;,&#x27;
    WORD_NUMBER=0
    
    for word in $line; 
    do 
    
        if [ &quot;${WORD_NUMBER}&quot; -eq 0 ]
        then
            # The 0th token is the VM Name
            
            # Buld up the 7zipped OVA file name
            OVA_ZIPPED_FILE_NAME=&quot;${word}.ova.7z&quot;
            
            rm -vf &quot;${OVA_ZIPPED_FILE_NAME}&quot;
        fi
    
        let &quot;WORD_NUMBER=WORD_NUMBER+1&quot;
    done
    
  let &quot;i++&quot;
done &lt; &quot;${FILE}&quot;

echo &quot;Current files in ${OVA_DIR}&quot;
ls -lh
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtoremovevmlistsfileonsourceovirt">
                            <a href="#eovtoremovevmlistsfileonsourceovirt">
                                <strong>Step 8 -</strong> EOVTO Remove VM Lists File on Source oVirt
                            </a>
                        </h4>
                    </div>










    


    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
cd /tmp
echo &quot;We are in `pwd`&quot;

FILE=&quot;{ovirtUniqueFileName}&quot;
[[ -f ${FILE} ]] &amp;&amp; rm -fv ${FILE} || echo &quot;No file to remove.&quot;
                </code>
            </pre>
        </div>
    </div>





        



                    <div class="row pt-5">
                        <h4 id="eovtoremovevmlistsfileonattune">
                            <a href="#eovtoremovevmlistsfileonattune">
                                <strong>Step 9 -</strong> EOVTO Remove VM Lists File on Attune
                            </a>
                        </h4>
                    </div>











                        <div class="row">
                            <p>
                                Connect via ssh:
                            </p>
                        </div>
                        <div class="row py-1">
                            <code class="language-sql">
ssh {linuxattuneuser}@{attuneosbuildserver}
                            </code>
                        </div>



    



    <div class="row">
        <p>
            Execute the following script:
        </p>
    </div>
    <div class="row">
        <div class="col px-0">
            <pre>
                <code class="language-sql py-0">
cd ~/tmp
echo &quot;We are in `pwd`&quot;

FILE=&quot;{ovirtUniqueFileName}&quot;
[[ -f ${FILE} ]] &amp;&amp; rm -fv ${FILE} || echo &quot;No file to remove.&quot;
                </code>
            </pre>
        </div>
    </div>






                    <div class="row pt-5">
                        <div class="col">
                            <h3>Completed</h3>
                            <p>
                                You have completed this instruction.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

<!-- Download Attune Ad -->

            <div class="col-lg-2 px-0">
                <div class="container px-0 pt-3 pl-5 sticky-top">
                    <div class="card border-light mb-3" style="max-width: 18rem;">
                        <div class="card-body attune-ad">
                            <img
                                src="https://www.servertribe.com/wp-content/uploads/2022/06/AttuneLogoV2_powered_by.png"
                                alt="Attune - Powered by ServerTribe"
                                class="img-fluid">
                            <h5 class="card-title mt-3 text-center">
                                Automate with Attune
                            </h5>
                            <p class="card-text text-left">
                                Download the Attune Community Edition.
                            </p>
                            <p class="text-center">
                                <a href="https://www.servertribe.com/download-attune-registration/"
                                   class="btn btn-primary mt-3">
                                    DOWNLOAD!!!
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>

<!-- Join Discord -->

        <div class="row py-5">
            <div class="jumbotron">
                <h1 class="display-4 text-center">
                    Discuss this Instruction in Discord
                </h1>
                <p class="lead">

                    Join our Discord channel and connect with like-minded
                    individuals who
                    share your passion. Engage in lively discussions, gain
                    valuable insights,
                    and stay updated on the latest trends in our industry. Don't
                    miss out on
                    this opportunity to network, learn, and grow together.
                </p>
                <hr class="my-4 text-center">
                <div class="col px-0">
                    <p class="text-center">
                        Click the link below and become a part of our vibrant
                        community on
                        Discord today!
                    </p>
                    <p class="lead text-center">
                        <a class="btn btn-primary btn-lg"
                           href="https://discord.com/invite/3YpJsagqUn"
                           role="button">
                            Join NOW!!!
                        </a>
                    </p>
                </div>
            </div>
        </div>

    </div>
</div>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

<script
    src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

<script
    src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
<script
    src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>


</body>
</html>
